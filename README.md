# Dynamic Visual Scoring Calculator

A dynamically adjustable scoring calculator with a lighthouse style data visualization. Get a score between 0 to 100 from data, with dynamically adjustable target value, a from -5 to +5 adjustable bias , and a self adjusting weighting system.

[Live Demo](https://memorabilien.github.io/dynamic-visual-scoring-calculator/src/)

### Config

```js
let config = {
	category_count: 4,// number of category
	category_names: ["Time", "Cost", "Efficiency", "Personell"],//category title to display
	category_value_unit: ["s", "€", "%", "P"],// category unit to display
	category_target_values: [10, 20, 100, 0],// target value to which a data Point in the data set should converge
	category_target_value_step: [1, 0.01, 0.01, 1],//how big on step on the slider should be
	category_direction: [1, 1, -1, 1],// 1: data point > target value; -1: data point < target value 
	category_grain: [1, 1, 1, 1],// fine tune to the acceptable difference between data point and target value
	category_evaluation: ["linear", "quadratic", "cubic", "linear"], // how should the score of a category be calculated
	category_weighting_preset: [25, 25, 25, 25], // presets
	colors: ["#ff0000", "#ff7b00", "#ffbb00", "#00dfba", "#127efa", "#8921ff", "#d500e9"], // define the circle colors
};
```

## Score Claculation

To calculate a single category Score, the main principle is the difference between the `category_target_value` and the acutal `data_value`. Things to note are as follows:

* The `data_value` can not be dynamically adjusted by the front end user, because it is a measured value in open world.
* The `target_value` is adjustabe, with the `min` or `max` value  automatically beeing set to the `data_value`.
  Should the `data_value >= target_value` the `category_direction = 1` . E.g. the category goal is it to omptimize the measured process for as little time as possible). If set correctly the `target_value` cannot be set bigger than the `data_value`. The Result is the ajdustable `target_value` will automatically stop at `max = data_value`.
  Now The other way arround: Should the `data_value <= target_value` the `category_direction = -1` . E.g. the category goal is it to opptimize the measured process for the hightest efficientcy possible. If set correctly the `target_value` cannot be set smaller than the `data_value`. The Result is the ajdustable `target_value` will automatically stop at `min = data_value`.
* The `category_weight` can be adjusted, which affects the overall score, but **not** the ``category_score``! When adjusting one `category_weighting` all the other `category_weightings` will adjust accordingly, so   $\sum_{i=1}^c categoryScore_i = 1 = 100\%  $ . For ease of use the lowest individual `category_weight` is 0.01 %. This ensures, that no `category_weight` will be stuck at 0%. *Due to the nature of using linear Alegebra (more specific Matrix calculations) for calculation the weights.  Depending on the number of categorys, if one category reaches 0% it will stay at 0% and the other weight will compensate, which is an unwanted effect*
* The `bias_value` is adjustable, with the `bias_value` accepting any value between $ bias ∈ [-5 , 5] ,  bias ∈ Z $. If `0 < bias_value < 5 ` means, you favor the category and therfore giving it a better score. If the  `bias_value == 5` the `categegory_score ≅ 1 ≅ 100%` .
  If you set  `-5 < bias_value < 0 ` means, you disfavor the category and therfore giving it a worse score. If the `bias_value == -5` the `categegory_score ≅ 0 ≅ 0%` . To control how the bias impacts the `category_score` there are three differnet option which must be chosen in the `config`. There are three evaluation methods:
  * **linear:**
    s(v) returns a score with  0 >= `category_score` <= 1000 , dependent on the `target_value` $t$, the actual `data_value` $v$ , `bias_value` $b$ , `category_direction` $p$ and the `category_grain `$g$ , which should be set to relative resolution, which ís dependent on the use case, i.e. when running a marathon anything from 10 seconds to 10 minutues would be the grain, on the other hand when running  a 100m dash the grain would be 0.5 Seconds to 0.005 Seconds.

    $$
    b \in [-5,5];\ b \in Z;\ \ \ t \le v \vee t \ge v; \ \ \ p \in [-1,1]; \ p \in Z\ \ \ t,v,g \in R
    $$

    $$
    s(v)=f(-h(v))+f(h(v))(-b_1h(v)+1)+f(h(v- \frac{1}{pb_1}))(b_1h(v))-1)+500 \\  \\  f(v) = \frac{1000}{π} arctan(999999v) \\ \ \\h(v) = p(v-t)\\ \ \\b_1 = \frac{b-5.001}{-b-5.001} \frac{1}{g_1}\\ \ \\ g_1 = 2g
    $$

    In this example `target_value` (the blue line) is set to 200 and ` data_value` (the red line) is set to 700. Because  `data_value `>`targe_tvalue `our `category_direction` is +1.
    `bias_value` shall be 0 and the `category_grain` is set to 500. By design if the `data_value == category_grain - traget_value` the `category_score` shall always be 500(purple line)

    <svg xmlns="http://www.w3.org/2000/svg" width="1000" height="666.667" viewBox="0 0 1000 666.667"><path fill="#fff" class="dcg-svg-background" d="M0 0h1000v666.666H0V0z"/><g transform="scale(2)"/><g fill="none" stroke="#000" paint-order="fill stroke markers" stroke-miterlimit="10" stroke-width="1.666"><path class="dcg-svg-minor-gridline" d="M17.5 0v666.666M60.834 0v666.666M104.166 0v666.666M147.5 0v666.666M190.834 0v666.666M234.166 0v666.666M277.5 0v666.666M320.834 0v666.666M409.166 0v666.666M452.5 0v666.666M495.834 0v666.666M539.166 0v666.666M582.5 0v666.666M625.834 0v666.666M669.166 0v666.666M712.5 0v666.666M755.834 0v666.666M800.834 0v666.666M844.166 0v666.666M887.5 0v666.666M930.834 0v666.666M974.166 0v666.666M0 654.166h1000m-1000-45h1000M0 565.834h1000M0 522.5h1000M0 479.166h1000M0 392.5h1000M0 349.166h1000M0 305.834h1000M0 262.5h1000M0 217.5h1000M0 174.166h1000M0 130.834h1000M0 87.5h1000M0 44.166h1000" stroke-opacity=".2"/><path class="dcg-svg-major-gridline" d="M147.5 0v666.666M582.5 0v666.666M800.834 0v666.666M0 653.334h1000m-1000-435h1000M0 0h1000" stroke-opacity=".25"/></g><path fill="none" stroke="#000" class="dcg-svg-axis-line" paint-order="fill stroke markers" d="M365 0v666.666m-365-230h1000" stroke-opacity=".9" stroke-miterlimit="10" stroke-width="2.5"/><g font-family="Arial" font-size="14" text-anchor="middle"><g class="dcg-svg-axis-value"><text fill="none" stroke="#fff" text-decoration="normal" x="210.044" y="277.322" stroke-miterlimit="2" stroke-width="3" transform="scale(2)">0</text><text text-decoration="normal" x="210.044" y="277.322" transform="scale(2)">0</text></g><g class="dcg-svg-axis-value"><text fill="none" stroke="#fff" text-decoration="normal" x="86.071" y="277.322" stroke-miterlimit="2" stroke-width="3" transform="scale(2)">-1000</text><text text-decoration="normal" x="86.071" y="277.322" transform="scale(2)">-1000</text></g><g class="dcg-svg-axis-value"><text fill="none" stroke="#fff" text-decoration="normal" x="349.473" y="277.322" stroke-miterlimit="2" stroke-width="3" transform="scale(2)">1000</text><text text-decoration="normal" x="349.473" y="277.322" transform="scale(2)">1000</text></g><g class="dcg-svg-axis-value"><text fill="none" stroke="#fff" text-decoration="normal" x="480.008" y="277.322" stroke-miterlimit="2" stroke-width="3" transform="scale(2)">2000</text><text text-decoration="normal" x="480.008" y="277.322" transform="scale(2)">2000</text></g><g class="dcg-svg-axis-value dcg-svg-offcenter-axis-value"><text fill="none" stroke="#fff" text-decoration="normal" x="196.034" y="393.808" stroke-miterlimit="2" stroke-width="3" transform="scale(2)">-1000</text><text text-decoration="normal" x="196.034" y="393.808" transform="scale(2)">-1000</text></g><g class="dcg-svg-axis-value"><text fill="none" stroke="#fff" text-decoration="normal" x="198.365" y="134.786" stroke-miterlimit="2" stroke-width="3" transform="scale(2)">1000</text><text text-decoration="normal" x="198.365" y="134.786" transform="scale(2)">1000</text></g><g class="dcg-svg-axis-value dcg-svg-offcenter-axis-value"><text fill="none" stroke="#fff" text-decoration="normal" x="198.365" y="13.808" stroke-miterlimit="2" stroke-width="3" transform="scale(2)">2000</text><text text-decoration="normal" x="198.365" y="13.808" transform="scale(2)">2000</text></g></g><path fill="none" stroke="#388c46" class="dcg-svg-curve" paint-order="fill stroke markers" d="M-4.882 218.298h0l413.422.13 217.68 217.428h378.662" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="8.334" stroke-opacity=".9"/><path fill="none" stroke="#2d70b3" class="dcg-svg-curve" paint-order="fill stroke markers" d="M408.408 670.138v-29.332m0-18.668v-29.332m0-18.668v-29.332m0-18.668v-29.332m0-18.668v-29.332m0-18.668v-29.332m0-18.668v-29.332m0-18.668v-29.332m0-18.668v-29.332m0-18.668v-29.332m0-18.668v-29.332m0-18.668v-29.332m0-18.668V64.806m0-18.668V16.806m0-18.668v-1.61" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="6.666" stroke-opacity=".9"/><path fill="none" stroke="#c74440" class="dcg-svg-curve" paint-order="fill stroke markers" d="M517.188 670.138v-29.332m0-18.668v-29.332m0-18.668v-29.332m0-18.668v-29.332m0-18.668v-29.332m0-18.668v-29.332m0-18.668v-29.332m0-18.668v-29.332m0-18.668v-29.332m0-18.668v-29.332m0-18.668v-29.332m0-18.668v-29.332m0-18.668V64.806m0-18.668V16.806m0-18.668v-1.61" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="6.666" stroke-opacity=".9"/><path fill="none" stroke="#6042a6" class="dcg-svg-curve" paint-order="fill stroke markers" d="M0 327.076h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2m16 0h.2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="10"/><g transform="scale(2)"/></svg>
  * **quadratic**

    <svg xmlns="http://www.w3.org/2000/svg" width="1000" height="666.667" viewBox="0 0 1000 666.667"><path fill="#fff" class="dcg-svg-background" d="M0 0h1000v666.666H0V0z"/><g transform="scale(2)"/><g fill="none" stroke="#000" paint-order="fill stroke markers" stroke-miterlimit="10" stroke-width="1.666"><path class="dcg-svg-minor-gridline" d="M25.834 0v666.666M70.834 0v666.666M114.166 0v666.666M159.166 0v666.666M204.166 0v666.666M247.5 0v666.666M292.5 0v666.666M335.834 0v666.666M380.834 0v666.666M469.166 0v666.666M514.166 0v666.666M557.5 0v666.666M602.5 0v666.666M645.834 0v666.666M690.834 0v666.666M735.834 0v666.666M779.166 0v666.666M824.166 0v666.666M867.5 0v666.666M912.5 0v666.666M957.5 0v666.666M0 630.834h1000m-1000-45h1000M0 542.5h1000M0 497.5h1000M0 409.166h1000m-1000-45h1000M0 320.834h1000m-1000-45h1000M0 232.5h1000M0 187.5h1000M0 142.5h1000M0 99.166h1000m-1000-45h1000M0 10.834h1000" stroke-opacity=".2"/><path class="dcg-svg-major-gridline" d="M204.166 0v666.666M645.834 0v666.666M867.5 0v666.666M0 231.666h1000M0 10h1000" stroke-opacity=".25"/></g><path fill="none" stroke="#000" class="dcg-svg-axis-line" paint-order="fill stroke markers" d="M425 0v666.666M0 453.334h1000" stroke-opacity=".9" stroke-miterlimit="10" stroke-width="2.5"/><g font-family="Arial" font-size="14" text-anchor="middle"><g class="dcg-svg-axis-value"><text fill="none" stroke="#fff" text-decoration="normal" x="246.168" y="287.833" stroke-miterlimit="2" stroke-width="3" transform="scale(2)">0</text><text text-decoration="normal" x="246.168" y="287.833" transform="scale(2)">0</text></g><g class="dcg-svg-axis-value"><text fill="none" stroke="#fff" text-decoration="normal" x="119.797" y="287.833" stroke-miterlimit="2" stroke-width="3" transform="scale(2)">-1000</text><text text-decoration="normal" x="119.797" y="287.833" transform="scale(2)">-1000</text></g><g class="dcg-svg-axis-value"><text fill="none" stroke="#fff" text-decoration="normal" x="387.995" y="287.833" stroke-miterlimit="2" stroke-width="3" transform="scale(2)">1000</text><text text-decoration="normal" x="387.995" y="287.833" transform="scale(2)">1000</text></g><g class="dcg-svg-axis-value"><text fill="none" stroke="#fff" text-decoration="normal" x="520.928" y="287.833" stroke-miterlimit="2" stroke-width="3" transform="scale(2)">2000</text><text text-decoration="normal" x="520.928" y="287.833" transform="scale(2)">2000</text></g><g class="dcg-svg-axis-value"><text fill="none" stroke="#fff" text-decoration="normal" x="234.489" y="142.899" stroke-miterlimit="2" stroke-width="3" transform="scale(2)">1000</text><text text-decoration="normal" x="234.489" y="142.899" transform="scale(2)">1000</text></g><g class="dcg-svg-axis-value dcg-svg-offcenter-axis-value"><text fill="none" stroke="#fff" text-decoration="normal" x="234.489" y="13.808" stroke-miterlimit="2" stroke-width="3" transform="scale(2)">2000</text><text text-decoration="normal" x="234.489" y="13.808" transform="scale(2)">2000</text></g></g><path fill="none" stroke="#388c46" class="dcg-svg-curve" paint-order="fill stroke markers" d="M-4.882 231.818h0l478.504.204 4.438.656 4.436 1.108 4.684 1.66 4.684 2.164 4.932 2.816 5.176 3.546 5.67 4.566 6.164 5.74 6.656 7.054 7.642 9.084 8.628 11.3 11.34 15.97 25.392 36.098 9.862 12.746 9.12 10.76 8.876 9.446 8.382 8 8.134 6.954 8.136 6.214 8.382 5.704 8.382 5.068 8.628 4.632 9.122 4.33 9.614 4.022 10.108 3.708 10.846 3.48 11.588 3.23 12.572 3.034 13.806 2.858 15.284 2.698 16.764 2.498 18.736 2.338 21.2 2.194 24.16 2.042 27.858 1.9 32.294 1.744 37.966 1.598 45.36 1.454 36.238.906" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="8.334"/><path fill="none" stroke="#2d70b3" class="dcg-svg-curve" paint-order="fill stroke markers" d="M469.414 666.666v-22m0-14v-22m0-14v-22m0-14v-22m0-14v-22m0-14v-22m0-14v-22m0-14v-22m0-14v-22m0-14v-22m0-14v-22m0-14v-22m0-14v-22m0-14v-22m0-14v-22m0-14v-22m0-14v-22m0-14v-22m0-14V0" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="5"/><path fill="none" stroke="#c74440" class="dcg-svg-curve" paint-order="fill stroke markers" d="M580.192 666.666v-22m0-14v-22m0-14v-22m0-14v-22m0-14v-22m0-14v-22m0-14v-22m0-14v-22m0-14v-22m0-14v-22m0-14v-22m0-14v-22m0-14v-22m0-14v-22m0-14v-22m0-14v-22m0-14v-22m0-14v-22m0-14V0" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="5"/><g transform="scale(2)"/></svg>
  * **cubic**

    comeing soon...


Tho calculate the overall Score all `categeory_scores` are used to get the average, which then is being modified to be a score between 0 and 100
